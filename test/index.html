<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <script type="module">
    import { SharedWorker, Worker, broadcast, proxied } from '../src/main.js';
    const sw = new SharedWorker('./shared-worker.js', {
      [broadcast](...args) {
        console.log('SharedWorker', ...args);
      }
    });
    console.log(await sw.random());
    const w = new Worker('./worker.js', {
      [broadcast](...args) {
        console.log('Worker', ...args);
      }
    });
    console.log(await w.random());
    await w.tag`Hello ${'World'}!`;
    console.log(proxied(sw));
    console.log(proxied(w));
    // proxied(sw).close();
    // proxied(w).terminate();
  </script>
</head>
</html>
